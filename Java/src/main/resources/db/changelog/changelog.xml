<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.9.xsd">

    <changeSet id="firstChangeSet" author="Kenneth Garcia">
        <createTable tableName="PROFILES" remarks="PROFILES_TABLE">

            <column name="ID" type="int" remarks="ID_COLUMN">
                <constraints primaryKey="true" primaryKeyName="ID_PK"/>
            </column>

            <column name="NAME" type="varchar(40)" remarks="NAME_COLUMN"/>

            <column name="STATUS"  type="tinyint(1)" remarks="STATUS_COLUMN" />
        </createTable>
        <addAutoIncrement tableName="PROFILES" columnName="ID" startWith="0" incrementBy="1" columnDataType="int"/>
    </changeSet>

    <changeSet id="secondChangeSet" author="Kenneth Garcia">
        <createTable tableName="USERS" remarks="USERS_TABLE">

            <column name="ID" type="int" remarks="ID_COLUMN">
                <constraints primaryKey="true" primaryKeyName="ID_PK"/>
            </column>

            <column name="EMAIL" type="varchar(80)" remarks="EMAIL_COLUMN"/>

            <column name="NAME" type="varchar(40)" remarks="NAME_COLUMN" />

            <column name="STATUS" type="tinyint(1)" remarks="STATUS_COLUMN" />

            <column name="PROFILE" type="int" remarks="PROFILE_COLUMN" />

        </createTable>
        <addAutoIncrement tableName="USERS" columnName="ID" startWith="0" incrementBy="1" columnDataType="int"/>
    </changeSet>

    <changeSet id="thirdChangeSet" author="Kenneth Garcia">
        <addForeignKeyConstraint baseTableName="USERS" baseColumnNames="PROFILE" constraintName="USERS2PROFILES"
                                 referencedTableName="PROFILES" referencedColumnNames="ID" />
    </changeSet>

    <changeSet id="fourthChangeset" author="Kenneth Garcia">
        <createTable tableName="ENTERPRISES" remarks="ENTERPRISES_TABLE">
            <column name="ID" type="int" remarks="ID_ENTERPRISE_COLUMN" autoIncrement="true">
                <constraints primaryKey="true" primaryKeyName="ID_PK" />
            </column>
            <column name="NAME" type="varchar(40)" remarks="NAME_COLUMN"/>
        </createTable>
        <addAutoIncrement tableName="ENTERPRISES" columnName="ID" columnDataType="int" incrementBy="1" startWith="0" />
    </changeSet>



</databaseChangeLog>